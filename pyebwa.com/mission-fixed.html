<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="missionPageTitle">Our Mission - One Billion Trees for Haiti | Pyebwa</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/mobile.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        :root {
            /* Haitian Flag Colors */
            --primary-red: #D41125;
            --primary-blue: #00217D;
            --accent-yellow: #FFC72C;
            
            /* Additional Colors */
            --white: #FFFFFF;
            --black: #000000;
            --gray-50: #F9FAFB;
            --gray-100: #F3F4F6;
            --gray-200: #E5E7EB;
            --gray-300: #D1D5DB;
            --gray-600: #4B5563;
            --gray-800: #1F2937;
            --gray-900: #111827;
            
            /* Shadows */
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        
        /* Navigation styling to match index page */
        .navbar {
            padding: 20px 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            position: relative;
            z-index: 100;
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .nav-menu {
            display: flex;
            align-items: center;
            gap: 30px;
            flex: 1;
            justify-content: center;
            margin-left: 100px !important;
            padding-left: 100px;
        }
        
        .nav-link {
            color: var(--gray-800);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .nav-link:hover {
            color: var(--primary-red);
        }
        
        .nav-link.active {
            color: var(--primary-blue);
            font-weight: 600;
        }
        
        .nav-buttons {
            display: flex;
            gap: 15px;
            margin-left: auto;
        }
        
        .btn {
            padding: 10px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-primary {
            background: var(--primary-blue);
            color: var(--white);
        }
        
        .btn-primary:hover {
            background: #001654;
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }
        
        .btn-ghost {
            background: transparent;
            color: var(--gray-800);
        }
        
        .btn-ghost:hover {
            background: var(--gray-100);
        }
        
        .logo-img {
            height: 40px;
            width: auto;
            display: inline-block;
            vertical-align: middle;
        }
        
        .cause-hero {
            color: white;
            padding: 120px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
            background: #000;
            min-height: 500px;
        }
        
        /* Fixed Slideshow styles */
        .forest-slideshow {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        
        .forest-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 2s ease-in-out;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        
        .forest-slide.active {
            opacity: 1;
        }
        
        /* Loading state for slides */
        .forest-slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: -1;
        }
        
        /* Overlay for better text readability */
        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(rgba(0, 33, 125, 0.7), rgba(0, 33, 125, 0.7));
            z-index: 1;
        }
        
        /* Content above slideshow */
        .hero-content {
            position: relative;
            z-index: 2;
        }
        
        .cause-hero h1 {
            font-size: 4rem;
            margin-bottom: 20px;
            font-weight: 800;
        }
        
        .cause-hero .subtitle {
            font-size: 1.5rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        
        /* Debug info - remove in production */
        .slideshow-debug {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px;
            border-radius: 5px;
            z-index: 1000;
            font-size: 12px;
            color: #333;
            display: none; /* Set to block to show debug info */
        }
        
        .counter-section {
            background: #f8f9fa;
            padding: 80px 20px;
            text-align: center;
        }
        
        .tree-counter {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 40px 0;
        }
        
        .counter-digit {
            background: white;
            border: 3px solid #059669;
            border-radius: 12px;
            padding: 20px;
            font-size: 3rem;
            font-weight: 700;
            color: #059669;
            min-width: 80px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .counter-label {
            font-size: 1.2rem;
            color: #4B5563;
            margin-top: 20px;
        }
        
        .impact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 60px auto;
            padding: 0 20px;
        }
        
        .impact-card {
            background: white;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .impact-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }
        
        .impact-icon {
            font-size: 48px;
            color: #059669;
            margin-bottom: 20px;
        }
        
        .impact-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #00217D;
            margin-bottom: 10px;
        }
        
        .partnership-section {
            background: #00217D;
            color: white;
            padding: 80px 20px;
            text-align: center;
        }
        
        .partnership-section h2 {
            color: white;
            margin-bottom: 40px;
        }
        
        .partner-logos {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 40px;
            flex-wrap: wrap;
            margin-top: 40px;
        }
        
        .partner-logo {
            background: white;
            padding: 20px;
            border-radius: 8px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .how-it-works {
            padding: 80px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .steps-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            margin-top: 60px;
        }
        
        .step-card {
            position: relative;
            padding: 40px 30px;
            background: #f0fdf4;
            border-radius: 12px;
            border: 2px solid #bbf7d0;
        }
        
        .step-number {
            position: absolute;
            top: -20px;
            left: 30px;
            background: #059669;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
        }
        
        .progress-section {
            background: #f8f9fa;
            padding: 80px 20px;
        }
        
        .progress-bar-container {
            max-width: 800px;
            margin: 40px auto;
            background: #e5e7eb;
            border-radius: 50px;
            height: 40px;
            overflow: hidden;
            position: relative;
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #059669 0%, #10b981 100%);
            height: 100%;
            width: 0.01%; /* 100,000 / 1,000,000,000 */
            border-radius: 50px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 20px;
            color: white;
            font-weight: 700;
            transition: width 2s ease-out;
            animation: growProgress 2s ease-out forwards;
        }
        
        @keyframes growProgress {
            to {
                width: 0.01%;
            }
        }
        
        .tree-visualization {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 10px;
            max-width: 600px;
            margin: 40px auto;
        }
        
        .tree-icon {
            font-size: 24px;
            opacity: 0.2;
            transition: all 0.3s;
        }
        
        .tree-icon.planted {
            opacity: 1;
            animation: plantTree 0.5s ease-out;
        }
        
        @keyframes plantTree {
            0% {
                transform: scale(0) rotate(0deg);
            }
            50% {
                transform: scale(1.2) rotate(10deg);
            }
            100% {
                transform: scale(1) rotate(0deg);
            }
        }
        
        .cta-section {
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
            color: white;
            padding: 80px 20px;
            text-align: center;
        }
        
        .cta-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .btn-white {
            background: white;
            color: #059669;
            padding: 14px 32px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-block;
        }
        
        .btn-white:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .btn-outline-white {
            background: transparent;
            color: white;
            border: 2px solid white;
            padding: 14px 32px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-block;
        }
        
        .btn-outline-white:hover {
            background: white;
            color: #059669;
        }
        
        @media (max-width: 768px) {
            .cause-hero h1 {
                font-size: 2.5rem;
            }
            
            .counter-digit {
                font-size: 2rem;
                min-width: 50px;
                padding: 15px;
            }
            
            .tree-counter {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <!-- Language Selector -->
    <div class="language-selector">
        <button class="lang-btn" data-lang="en">EN</button>
        <button class="lang-btn" data-lang="fr">FR</button>
        <button class="lang-btn active" data-lang="ht">HT</button>
    </div>
    
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="images/Pyebwa.png" alt="Pyebwa Logo" class="logo-img">
            </div>
            <div class="nav-menu">
                <a href="index.html" class="nav-link" data-i18n="home">Home</a>
                <a href="about.html" class="nav-link" data-i18n="about">About</a>
                <a href="mission.html" class="nav-link active" data-i18n="ourMission">Our Mission</a>
                <a href="contact.html" class="nav-link" data-i18n="contact">Contact</a>
                <div class="nav-buttons">
                    <button class="btn btn-ghost" id="loginBtn" data-i18n="login">Login</button>
                    <button class="btn btn-primary" id="signupBtn" data-i18n="signup">Sign Up</button>
                </div>
            </div>
            <button class="mobile-menu-toggle" id="mobileMenuToggle">
                <span class="material-icons">menu</span>
            </button>
        </div>
    </nav>

    <!-- Hero Section with Fixed Slideshow -->
    <section class="cause-hero">
        <!-- Debug info - remove in production -->
        <div class="slideshow-debug" id="slideshowDebug">
            <div>Slide: <span id="currentSlideNum">1</span>/5</div>
            <div>Status: <span id="slideshowStatus">Loading...</span></div>
        </div>
        
        <!-- Slideshow -->
        <div class="forest-slideshow" id="forestSlideshow">
            <div class="forest-slide active" data-slide="1" style="background-image: url('https://images.unsplash.com/photo-1511497584788-876760111969?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80');"></div>
            <div class="forest-slide" data-slide="2" style="background-image: url('https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80');"></div>
            <div class="forest-slide" data-slide="3" style="background-image: url('https://images.unsplash.com/photo-1448375240586-882707db888b?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80');"></div>
            <div class="forest-slide" data-slide="4" style="background-image: url('https://images.unsplash.com/photo-1542202229-7d93c995f21c?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80');"></div>
            <div class="forest-slide" data-slide="5" style="background-image: url('https://images.unsplash.com/photo-1502082553048-f009c37129b9?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80');"></div>
        </div>
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <h1 data-i18n="oneBillionTrees">One Billion Trees for Haiti</h1>
            <p class="subtitle" data-i18n="missionSubtitle">Our commitment to reforesting Haiti and restoring its natural beauty</p>
            <div style="margin-top: 40px;">
                <span style="font-size: 100px;">üá≠üáπ üå≥</span>
            </div>
        </div>
    </section>

    <!-- About the Mission -->
    <section style="padding: 60px 20px; max-width: 1000px; margin: 0 auto; text-align: center;">
        <h2 style="font-size: 2.5rem; color: var(--primary-blue); margin-bottom: 30px;" data-i18n="whyHaitiNeeds">Why Haiti Needs This</h2>
        <p style="font-size: 1.2rem; line-height: 1.8; color: var(--gray-600);" data-i18n="whyHaitiNeedsText">
            Haiti has lost over 98% of its original forest cover, leading to severe soil erosion, flooding, and environmental degradation. 
            Our One Billion Trees for Haiti initiative aims to reverse this crisis. By planting one billion trees across Haiti, 
            we will restore watersheds, prevent erosion, create jobs, and bring back the lush green landscape that once defined our beautiful nation.
        </p>
    </section>

    <!-- Counter Section -->
    <section class="counter-section">
        <h2 style="font-size: 2.5rem; color: var(--primary-blue); margin-bottom: 20px;" data-i18n="treesPlantedSoFar">Trees Planted So Far</h2>
        <div class="tree-counter">
            <div class="counter-digit">1</div>
            <div class="counter-digit">0</div>
            <div class="counter-digit">0</div>
            <div class="counter-digit">,</div>
            <div class="counter-digit">0</div>
            <div class="counter-digit">0</div>
            <div class="counter-digit">0</div>
        </div>
        <p class="counter-label" data-i18n="outOfGoal">Out of 1,000,000,000 Goal</p>
        
        <!-- Tree Visualization -->
        <div class="tree-visualization">
            <!-- First 10 trees are planted -->
            <span class="tree-icon planted">üå≥</span>
            <span class="tree-icon planted">üå≥</span>
            <span class="tree-icon planted">üå≥</span>
            <span class="tree-icon planted">üå≥</span>
            <span class="tree-icon planted">üå≥</span>
            <span class="tree-icon planted">üå≥</span>
            <span class="tree-icon planted">üå≥</span>
            <span class="tree-icon planted">üå≥</span>
            <span class="tree-icon planted">üå≥</span>
            <span class="tree-icon planted">üå≥</span>
            <!-- Rest are waiting to be planted -->
            <span class="tree-icon">üå±</span>
            <span class="tree-icon">üå±</span>
            <span class="tree-icon">üå±</span>
            <span class="tree-icon">üå±</span>
            <span class="tree-icon">üå±</span>
            <span class="tree-icon">üå±</span>
            <span class="tree-icon">üå±</span>
            <span class="tree-icon">üå±</span>
            <span class="tree-icon">üå±</span>
            <span class="tree-icon">üå±</span>
            <span class="tree-icon">üå±</span>
            <span class="tree-icon">üå±</span>
            <span class="tree-icon">üå±</span>
            <span class="tree-icon">üå±</span>
            <span class="tree-icon">üå±</span>
            <span class="tree-icon">üå±</span>
            <span class="tree-icon">üå±</span>
            <span class="tree-icon">üå±</span>
            <span class="tree-icon">üå±</span>
            <span class="tree-icon">üå±</span>
        </div>
    </section>

    <!-- Impact Section -->
    <section style="padding: 80px 20px;">
        <h2 style="text-align: center; font-size: 2.5rem; color: var(--primary-blue); margin-bottom: 20px;" data-i18n="impactOnHaiti">Impact on Haiti</h2>
        <p style="text-align: center; max-width: 800px; margin: 0 auto 40px; color: var(--gray-600); font-size: 1.1rem;" data-i18n="impactDescription">
            When we reach our goal of one billion trees in Haiti, here's the transformation we'll achieve:
        </p>
        
        <div class="impact-grid">
            <div class="impact-card">
                <div class="impact-icon">üèîÔ∏è</div>
                <div class="impact-number">90%</div>
                <h3 data-i18n="erosionReduction">Erosion Reduction</h3>
                <p data-i18n="erosionReductionText">Protecting Haiti's precious topsoil</p>
            </div>
            <div class="impact-card">
                <div class="impact-icon">üíß</div>
                <div class="impact-number">60%</div>
                <h3 data-i18n="floodPrevention">Flood Prevention</h3>
                <p data-i18n="floodPreventionText">Reducing devastating seasonal floods</p>
            </div>
            <div class="impact-card">
                <div class="impact-icon">üåæ</div>
                <div class="impact-number">2X</div>
                <h3 data-i18n="agriculturalYield">Agricultural Yield</h3>
                <p data-i18n="agriculturalYieldText">Improving farming productivity</p>
            </div>
            <div class="impact-card">
                <div class="impact-icon">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
                <div class="impact-number">100K+</div>
                <h3 data-i18n="haitianJobs">Haitian Jobs</h3>
                <p data-i18n="haitianJobsText">Direct employment in reforestation</p>
            </div>
        </div>
    </section>

    <!-- How It Works -->
    <section class="how-it-works">
        <h2 style="text-align: center; font-size: 2.5rem; color: var(--primary-blue);" data-i18n="howWeMakeItHappen">How We're Making It Happen</h2>
        <p style="text-align: center; max-width: 800px; margin: 20px auto; color: var(--gray-600); font-size: 1.1rem;" data-i18n="comprehensiveApproach">
            Our comprehensive approach to achieving our one billion trees goal
        </p>
        
        <div class="steps-container">
            <div class="step-card">
                <div class="step-number">1</div>
                <h3 data-i18n="strategicPartnerships">Strategic Partnerships</h3>
                <p data-i18n="strategicPartnershipsText">We partner with established reforestation organizations and local communities to ensure sustainable planting and long-term forest management.</p>
            </div>
            <div class="step-card">
                <div class="step-number">2</div>
                <h3 data-i18n="communityEngagement">Community Engagement</h3>
                <p data-i18n="communityEngagementText">Working directly with local communities to create jobs, provide education, and ensure the trees benefit those who need them most.</p>
            </div>
            <div class="step-card">
                <div class="step-number">3</div>
                <h3 data-i18n="monitoringCare">Monitoring & Care</h3>
                <p data-i18n="monitoringCareText">We don't just plant trees - we ensure they survive and thrive through ongoing monitoring, maintenance, and community involvement.</p>
            </div>
        </div>
    </section>

    <!-- Progress Section -->
    <section class="progress-section">
        <h2 style="text-align: center; font-size: 2.5rem; color: var(--primary-blue);" data-i18n="ourJourney">Our Journey to One Billion Trees in Haiti</h2>
        <div class="progress-bar-container">
            <div class="progress-bar">0.01%</div>
        </div>
        <p style="text-align: center; color: var(--gray-600); margin-top: 20px;" data-i18n="treesPlantedInHaiti">
            100,000 trees planted in Haiti so far. Together, we'll reach one billion!
        </p>
    </section>

    <!-- Partnership Section -->
    <section class="partnership-section">
        <h2 data-i18n="workingWithCommunities">Working with Haitian Communities</h2>
        <p style="max-width: 800px; margin: 0 auto 40px; opacity: 0.9;" data-i18n="partnershipDescription">
            We partner with local Haitian organizations and communities to ensure sustainable reforestation that benefits the people and the land.
        </p>
        <div class="partner-logos">
            <div class="partner-logo">
                <span style="color: var(--primary-blue); font-weight: 700;" data-i18n="haitiReforestationPartnership">Haiti Reforestation Partnership</span>
            </div>
            <div class="partner-logo">
                <span style="color: var(--primary-blue); font-weight: 700;" data-i18n="haitianFarmersNetwork">Haitian Farmers Network</span>
            </div>
            <div class="partner-logo">
                <span style="color: var(--primary-blue); font-weight: 700;" data-i18n="localCommunityGroups">Local Community Groups</span>
            </div>
        </div>
    </section>

    <!-- Where We Plant in Haiti -->
    <section style="padding: 80px 20px; background: var(--gray-50);">
        <h2 style="text-align: center; font-size: 2.5rem; color: var(--primary-blue); margin-bottom: 40px;" data-i18n="strategicPlantingRegions">Strategic Planting Regions in Haiti</h2>
        <div style="max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 40px;">
            <div style="text-align: center;">
                <h3 style="color: var(--primary-blue); font-size: 3rem; margin-bottom: 10px;">üèîÔ∏è</h3>
                <h3 data-i18n="northernMountains">Northern Mountains</h3>
                <p data-i18n="northernMountainsText">Reforesting the Massif du Nord to protect watersheds and prevent erosion</p>
            </div>
            <div style="text-align: center;">
                <h3 style="color: var(--primary-blue); font-size: 3rem; margin-bottom: 10px;">üåä</h3>
                <h3 data-i18n="coastalAreas">Coastal Areas</h3>
                <p data-i18n="coastalAreasText">Planting mangroves to protect against storms and support marine life</p>
            </div>
            <div style="text-align: center;">
                <h3 style="color: var(--primary-blue); font-size: 3rem; margin-bottom: 10px;">üåæ</h3>
                <h3 data-i18n="agriculturalZones">Agricultural Zones</h3>
                <p data-i18n="agriculturalZonesText">Creating agroforestry systems to support farmers and food security</p>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <h2 style="font-size: 2.5rem; margin-bottom: 20px;" data-i18n="helpUsReforest">Help Us Reforest Haiti</h2>
        <p style="font-size: 1.2rem; max-width: 600px; margin: 0 auto 30px;" data-i18n="bePartOfTransformation">
            Be part of Haiti's transformation. Support our mission to plant one billion trees and restore Haiti's natural beauty.
        </p>
        <div class="cta-buttons">
            <a href="contact.html" class="btn-white" data-i18n="getInvolved">Get Involved</a>
            <a href="#" class="btn-outline-white" data-i18n="donatePlantTrees">Donate to Plant Trees</a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer" style="background: var(--primary-blue); color: white; padding: 40px 0;">
        <div class="container" style="text-align: center;">
            <p>&copy; 2025 <span data-i18n="poweredBy">Powered by</span> <a href="https://humanlevel.ai" target="_blank" style="color: var(--accent-yellow); text-decoration: none; transition: all 0.3s;" data-i18n="humanLevelTech">Technologies Humanitaires</a> <span data-i18n="allRights">All rights reserved.</span></p>
        </div>
    </footer>

    <script src="js/translations-pages.js"></script>
    <script src="js/language.js"></script>
    <script src="js/firebase-config.js"></script>
    <script src="js/auth.js"></script>
    <script>
        // Redirect login/signup buttons to secure.pyebwa.com
        document.getElementById('loginBtn').addEventListener('click', () => {
            window.location.href = 'https://secure.pyebwa.com/?redirect=' + encodeURIComponent(window.location.href);
        });
        document.getElementById('signupBtn').addEventListener('click', () => {
            window.location.href = 'https://secure.pyebwa.com/?redirect=' + encodeURIComponent(window.location.href);
        });
        
        // Animate tree planting visualization
        let plantedTrees = 10;
        const treeIcons = document.querySelectorAll('.tree-icon');
        
        setInterval(() => {
            if (plantedTrees < treeIcons.length) {
                treeIcons[plantedTrees].classList.add('planted');
                treeIcons[plantedTrees].textContent = 'üå≥';
                plantedTrees++;
            }
        }, 3000);
        
        // Animate counter on scroll
        let animated = false;
        function animateCounter() {
            if (animated) return;
            
            const counterSection = document.querySelector('.counter-section');
            const rect = counterSection.getBoundingClientRect();
            
            if (rect.top < window.innerHeight && rect.bottom > 0) {
                animated = true;
                // Add animation logic here if needed
            }
        }
        
        window.addEventListener('scroll', animateCounter);
        animateCounter(); // Check on load
        
        // Mobile menu toggle
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');
        const navMenu = document.querySelector('.nav-menu');
        
        if (mobileMenuToggle) {
            mobileMenuToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
            });
            
            // Close menu when clicking outside
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.navbar') && navMenu.classList.contains('active')) {
                    navMenu.classList.remove('active');
                }
            });
            
            // Close menu when clicking a link
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', () => {
                    navMenu.classList.remove('active');
                });
            });
        }
    </script>
    
    <!-- Enhanced Forest Slideshow Script -->
    <script>
        // Enhanced slideshow with better error handling and debugging
        (function() {
            console.log('Initializing forest slideshow...');
            
            const slideshow = document.getElementById('forestSlideshow');
            const slides = document.querySelectorAll('.forest-slide');
            const debugInfo = document.getElementById('slideshowDebug');
            const currentSlideNum = document.getElementById('currentSlideNum');
            const slideshowStatus = document.getElementById('slideshowStatus');
            
            // Enable debug mode for testing - set to false in production
            const DEBUG_MODE = false;
            if (DEBUG_MODE && debugInfo) {
                debugInfo.style.display = 'block';
            }
            
            if (!slides || slides.length === 0) {
                console.error('No slides found!');
                if (slideshowStatus) slideshowStatus.textContent = 'Error: No slides';
                return;
            }
            
            console.log(`Found ${slides.length} slides`);
            
            let currentSlide = 0;
            let slideshowInterval = null;
            
            // Preload images
            function preloadImages() {
                const imagePromises = [];
                slides.forEach((slide, index) => {
                    const bgImage = window.getComputedStyle(slide).backgroundImage;
                    const imageUrl = bgImage.match(/url\(["']?(.+?)["']?\)/);
                    
                    if (imageUrl && imageUrl[1]) {
                        const img = new Image();
                        const promise = new Promise((resolve, reject) => {
                            img.onload = () => {
                                console.log(`Image ${index + 1} loaded successfully`);
                                resolve();
                            };
                            img.onerror = () => {
                                console.error(`Failed to load image ${index + 1}: ${imageUrl[1]}`);
                                reject();
                            };
                        });
                        img.src = imageUrl[1];
                        imagePromises.push(promise);
                    }
                });
                
                return Promise.allSettled(imagePromises);
            }
            
            function showSlide(index) {
                // Hide all slides
                slides.forEach((slide, i) => {
                    slide.classList.remove('active');
                    // Ensure proper z-index
                    slide.style.zIndex = '0';
                });
                
                // Show current slide
                slides[index].classList.add('active');
                slides[index].style.zIndex = '1';
                
                // Update debug info
                if (currentSlideNum) currentSlideNum.textContent = index + 1;
                
                console.log(`Showing slide ${index + 1}`);
            }
            
            function nextSlide() {
                currentSlide = (currentSlide + 1) % slides.length;
                showSlide(currentSlide);
            }
            
            function startSlideshow() {
                console.log('Starting slideshow...');
                if (slideshowStatus) slideshowStatus.textContent = 'Running';
                
                // Show first slide immediately
                showSlide(0);
                
                // Start interval for subsequent slides
                slideshowInterval = setInterval(nextSlide, 5000);
            }
            
            function stopSlideshow() {
                if (slideshowInterval) {
                    clearInterval(slideshowInterval);
                    slideshowInterval = null;
                    console.log('Slideshow stopped');
                    if (slideshowStatus) slideshowStatus.textContent = 'Stopped';
                }
            }
            
            // Initialize slideshow
            console.log('Preloading images...');
            if (slideshowStatus) slideshowStatus.textContent = 'Loading images...';
            
            preloadImages().then(() => {
                console.log('All images processed, starting slideshow');
                startSlideshow();
            }).catch(error => {
                console.error('Error preloading images:', error);
                // Start slideshow anyway
                startSlideshow();
            });
            
            // Pause on page hidden, resume on visible
            document.addEventListener('visibilitychange', () => {
                if (document.hidden) {
                    stopSlideshow();
                } else {
                    startSlideshow();
                }
            });
            
            // Check slideshow container visibility
            const containerStyles = window.getComputedStyle(slideshow);
            console.log('Slideshow container styles:', {
                position: containerStyles.position,
                width: containerStyles.width,
                height: containerStyles.height,
                zIndex: containerStyles.zIndex,
                display: containerStyles.display,
                visibility: containerStyles.visibility
            });
            
            // Check first slide visibility
            const firstSlideStyles = window.getComputedStyle(slides[0]);
            console.log('First slide styles:', {
                position: firstSlideStyles.position,
                opacity: firstSlideStyles.opacity,
                display: firstSlideStyles.display,
                backgroundImage: firstSlideStyles.backgroundImage.substring(0, 50) + '...'
            });
        })();
    </script>
    
    <!-- Back to Top Button -->
    <script src="js/back-to-top.js"></script>
</body>
</html>