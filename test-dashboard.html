<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Dashboard - Pyebwa</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        #dashboardView {
            max-width: 1200px;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <h1>Dashboard Test</h1>
    <div id="dashboardView"></div>
    
    <script>
        // Mock data
        window.familyMembers = [
            { id: 1, firstName: 'John', lastName: 'Doe', gender: 'male', birthDate: '1980-01-01' },
            { id: 2, firstName: 'Jane', lastName: 'Doe', gender: 'female', birthDate: '1982-05-15' },
            { id: 3, firstName: 'Jim', lastName: 'Doe', gender: 'male', birthDate: '2005-03-20' }
        ];
        
        window.currentUser = {
            displayName: 'Test User',
            email: 'test@example.com'
        };
        
        // Mock translation function
        window.t = (key) => key;
        
        // Test image loading
        const testImage = new Image();
        testImage.onload = () => console.log('Test image loaded successfully');
        testImage.onerror = () => console.log('Test image failed to load');
        testImage.src = 'https://picsum.photos/200/100';
    </script>
    
    <!-- Load dashboard script -->
    <script src="/app/js/dashboard.js"></script>
    
    <script>
        // Create and display dashboard
        setTimeout(() => {
            console.log('Creating dashboard...');
            if (window.createDashboard) {
                const dashboard = window.createDashboard();
                document.getElementById('dashboardView').appendChild(dashboard);
                console.log('Dashboard created');
                
                // Check if background image is visible
                const bgImage = document.querySelector('.dashboard-bg-image');
                if (bgImage) {
                    const bgStyle = window.getComputedStyle(bgImage);
                    console.log('Background image URL:', bgStyle.backgroundImage);
                }
            } else {
                console.error('createDashboard function not found');
            }
        }, 500);
    </script>
</body>
</html>